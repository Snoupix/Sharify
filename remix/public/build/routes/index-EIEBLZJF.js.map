{
  "version": 3,
  "sources": ["../../../app/routes/index.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/index.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/index.tsx\");\n  import.meta.hot.lastModified = \"1708949685558.6482\";\n}\n// REMIX HMR END\n\nimport { useEffect, useState } from \"react\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Link, useOutletContext, useSubmit } from \"@remix-run/react\";\nimport Title from \"~/components/title\";\nimport Spotify from \"~/utils/spotify\";\nimport { unsetSessionData } from \"~/server/session.server\";\nimport { GetStorageValue } from \"~/utils/utils\";\nexport const action = async ({\n  request\n}) => {\n  const formData = await request.formData();\n  const deleteSTokens = formData.get('DeleteSpotifyTokens') || false;\n  if (deleteSTokens) {\n    return await unsetSessionData(request, \"SpotifyTokens\", \"/\");\n  }\n  return null;\n};\nexport default function Index() {\n  _s();\n  const {\n    spotify\n  } = useOutletContext();\n  const submit = useSubmit();\n  const [spotifyUser, setSpotifyUser] = useState(null);\n  useEffect(() => {\n    if (!spotify) return;\n    if (spotify.is_ready) {\n      (async () => {\n        const profile = await spotify.GetProfile();\n        if (!(profile instanceof Error)) {\n          setSpotifyUser(profile);\n        }\n      })();\n    } else if (GetStorageValue(\"st\") != null && !spotify.is_ready) {\n      (async () => {\n        const profile = await spotify.GetProfile();\n        if (!(profile instanceof Error)) {\n          setSpotifyUser(profile);\n        }\n      })();\n    }\n  }, [spotify]);\n  const handleSpotifyDisconnect = () => {\n    toast(`[Spotify] Disconnected from ${spotifyUser?.display_name} !`, {\n      position: \"bottom-right\",\n      autoClose: 2500,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      theme: \"light\"\n    });\n    submit({\n      DeleteSpotifyTokens: \"true\"\n    }, {\n      method: \"post\"\n    });\n    Spotify.Disconnect();\n    setSpotifyUser(null);\n  };\n  return <>\n\t\t\t<nav className=\"fixed top-0 left-0 h-14 w-screen\">\n\n\t\t\t</nav>\n\t\t\t<div className=\"h-screen flex flex-col justify-center items-center content-center gap-y-4 md:gap-y-6 xl:gap-y-9\">\n\t\t\t\t<Title />\n\t\t\t\t<Link className=\"duration-300 p-main-btn md:t-main-btn xl:main-btn hover:shadow-around hover:shadow-main-color hover:border-bg-color\" to=\"/host\" data-cy=\"host-link\">\n\t\t\t\t\tHost\n\t\t\t\t</Link>\n\t\t\t\t<Link className=\"duration-300 p-main-btn md:t-main-btn xl:main-btn hover:shadow-around hover:shadow-main-color hover:border-bg-color\" to=\"/client\" data-cy=\"client-link\">\n\t\t\t\t\tClient\n\t\t\t\t</Link>\n\t\t\t\t{spotifyUser ? <div data-cy=\"horizontal-bar\" className=\"border-t-[1px] border-indigo-700 w-[20%]\"></div> : null}\n\t\t\t\t{spotifyUser ? <button className=\"duration-300 p-main-btn md:t-main-btn xl:main-btn hover:shadow-around hover:shadow-main-color hover:border-bg-color\" onClick={handleSpotifyDisconnect} data-cy=\"disconnect-btn\">\n\t\t\t\t\t\t<span className=\"text-xl xl:text-2xl\">{`Disconnect from ${spotifyUser.display_name}`}</span>\n\t\t\t\t\t</button> : null}\n\t\t\t</div>\n\t\t\t<ToastContainer />\n\t\t</>;\n}\n_s(Index, \"WLFjkMqv8SEmq9DW5/uw3qc3ivA=\", false, function () {\n  return [useOutletContext, useSubmit];\n});\n_c = Index;\nvar _c;\n$RefreshReg$(_c, \"Index\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
